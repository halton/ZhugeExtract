# 环境配置
NODE_ENV=development
API_PORT=3000
LOG_LEVEL=info

# 数据库配置
DATABASE_URL=postgresql://postgres:password@localhost:5432/zhuge_extract
POSTGRES_DB=zhuge_extract
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432
DB_POOL_SIZE=10

# Redis配置
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_PREFIX=zhuge:
REDIS_PORT=6379

# MinIO对象存储配置
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=zhuge-extract
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# JWT配置 (生产环境必须更改)
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# 文件上传限制
MAX_FILE_SIZE=2147483648        # 2GB
MAX_FILES_PER_USER=1000
MAX_STORAGE_PER_USER=10737418240  # 10GB

# CORS配置
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# 限流配置
RATE_LIMIT_MAX=100              # 每个时间窗口最大请求数
RATE_LIMIT_WINDOW=900000        # 15分钟 (毫秒)

# 分享配置
SHARE_BASE_URL=http://localhost:3000
SHARE_MAX_DOWNLOADS=100
SHARE_MAX_EXPIRES_DAYS=30

# 邮件配置 (可选)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=ZhugeExtract <noreply@zhuge-extract.com>

# 安全配置
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-key-at-least-32-characters

# 监控配置
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Nginx端口 (生产环境)
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# 开发工具端口
ADMINER_PORT=8080
REDIS_COMMANDER_PORT=8081

# 监控服务端口
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASS=admin

# SSL证书路径 (生产环境)
SSL_CERT_PATH=/etc/ssl/certs/zhuge-extract.crt
SSL_KEY_PATH=/etc/ssl/private/zhuge-extract.key

# 日志配置
LOG_FILE=/var/log/zhuge-extract/app.log
LOG_MAX_FILES=7
LOG_MAX_SIZE=10m

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *       # 每天凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=zhuge-extract-backups
BACKUP_S3_REGION=us-east-1